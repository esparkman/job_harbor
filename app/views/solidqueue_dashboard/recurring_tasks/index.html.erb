<% if @tasks.empty? %>
  <%= render SolidqueueDashboard::EmptyStateComponent.new(
    title: "No recurring tasks found",
    description: "Configure recurring tasks in config/recurring.yml to see them here.",
    icon: :recurring
  ) %>
<% else %>
  <div class="sqd-card">
    <div class="sqd-table-container">
      <table class="sqd-table">
        <thead>
          <tr>
            <th>Key</th>
            <th>Job Class</th>
            <th>Schedule</th>
            <th>Queue</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @tasks.each do |task| %>
            <tr>
              <td><%= link_to task.key, recurring_task_path(task), class: "sqd-table-link" %></td>
              <td><code class="sqd-code"><%= task.class_name %></code></td>
              <td><%= task.schedule %></td>
              <td><%= task.queue_name || "default" %></td>
              <td class="sqd-actions">
                <%= button_to "Run Now", enqueue_now_recurring_task_path(task), method: :post, class: "sqd-btn sqd-btn-sm sqd-btn-secondary" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
<% end %>
